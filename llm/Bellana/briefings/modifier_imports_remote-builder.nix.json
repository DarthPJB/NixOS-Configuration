{"path": "modifier_imports/remote-builder.nix", "purpose": "Configures Nix distributed builds by defining remote build machines accessible via SSH, enabling faster compilation by offloading builds to more powerful or specialized hardware.", "key_options": ["secrix.services.nix-daemon.secrets", "nix.buildMachines", "programs.ssh.knownHosts", "nix.distributedBuilds"], "imports": [], "exports": ["list of remote build machines with connection details", "SSH known hosts for build machines", "Nix daemon configuration for distributed builds"], "dependencies": ["SSH private keys for authentication to build machines"], "nixos_patterns": ["nix.buildMachines for specifying remote builders", "programs.ssh.knownHosts for SSH host verification", "secrix for managing encrypted secrets"], "integration_points": ["Integrates with secrix for secure SSH key management", "Connects to external builders (pompeii for aarch64-darwin, hyperhyper for x86_64-linux) and internal network machines (display-1, display-2 for aarch64-linux)", "Enables builders-use-substitutes for efficient build caching"], "notes": "This module sets up distributed Nix builds with multiple remote machines. Active builders include pompeii (external aarch64-darwin with high speed factor 10), hyperhyper (external x86_64-linux), display-1 and display-2 (internal aarch64-linux with lower capacity). Each builder specifies SSH connection details, supported systems, max jobs, speed factor, and supported features like big-parallel and kvm. SSH known hosts are configured for all potential builders, including commented-out ones like remote-worker, remote-builder, nx-01, and data-storage. Secrets for SSH keys (hyper_build_private_key and builder-key) are managed via secrix. Distributed builds are enabled with substitutes to leverage remote caches. This setup optimizes build performance by utilizing diverse hardware across the network. Reasoning: The configuration reflects a hybrid setup with powerful external builders for cross-compilation (especially macOS aarch64) and local ARM devices for native builds, reducing local build load and time."}